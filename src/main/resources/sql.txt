CREATE DATABASE library;

CREATE TABLE person(
    person_id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    fullname VARCHAR(60) NOT NULL,
    birthyear int NOT NULL
);

INSERT INTO person(fullname, birthyear)
VALUES
    ('Sam Johnson',1987),
    ('Bill Clinton',1956),
    ('Samuel L Jackson',1976);

CREATE TABLE book (
    book_id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    person_id INT REFERENCES person(person_id),
    name VARCHAR(60) NOT NULL,
    author VARCHAR(60) NOT NULL,
    year INT NOT NULL
);

INSERT INTO book(name, author, year)
VALUES
    ('The India Story','Bimal Jalal',2022),
    ('Vahana Masterclass','Alfredo Covelli',2021),
    ('Relentless','Yashwant Sinha',2020);